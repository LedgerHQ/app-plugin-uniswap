import pytest
from web3 import Web3
from eth_typing import ChainId

from ledger_app_clients.ethereum.client import EthAppClient, StatusWord
from ragger.error import ExceptionRAPDU

from . import uniswap_crafter as crafter
from . import token_metadata_database as tokens

import requests

class TestRaw:
    # used for testing
    def test_raw(self, uniswap_client, navigation_helper):
        pass
    #     uniswap_client.set_external_plugin()
    #     uniswap_client.provide_token_metadata(tokens.USDT)
    #     uniswap_client.provide_token_metadata(tokens.WOJAK)
    #     contract = bytes.fromhex("3593564c000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000006740aaac00000000000000000000000000000000000000000000000000000000000000040b000604000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000038d7ea4c680000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000038d7ea4c68000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002bc02aaa39b223fe8d0a0e5c4f27ead9083c756cc20001f4a0b86991c6218b36c1d19d4a2e9eb0ce3606eb480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb4800000000000000000000000027213e28d7fda5c57fe9e5dd923818dbccf71c4700000000000000000000000000000000000000000000000000000000000000190000000000000000000000000000000000000000000000000000000000000060000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48000000000000000000000000f14504b7c840b9eadb4ea0da10f8deb593f5506f00000000000000000000000000000000000000000000000000000000002fa31e0c")
    #     with uniswap_client.send_raw_sign_request(contract, amount=Web3.to_wei(0.001, "gwei"),):
    #         navigation_helper.ui_validate()

    values = [
        "0xed523f26560c0b19d0b37b1a10d44f71149a98c23b2ad110e0ffb17b44c6679a",
        "0x3c8bf27052cb97b9b66582bfaf4cff64e1380f856bee9ab2086315d4d270d66d",
    ]
    base_url = "https://eth.blockscout.com/api/v2/transactions/{}/raw-trace"

    @pytest.mark.parametrize('value', values)
    def test_scrap(self, backend, uniswap_client, navigation_helper, value):
        pass
        # uniswap_client.set_external_plugin()
        # url = base_url.format(value)
        # try:
        #     response = requests.get(url)
        #     response.raise_for_status()  # Raise an error for bad responses
        #     json_data = response.json()
        #     contract = json_data[0]["action"]["input"]
        #     print(f"Data for {value}:\n{contract}\n")
        # except requests.exceptions.RequestException as e:
        #     print(f"Error fetching data for {value}: {e}")

        # with uniswap_client.send_raw_sign_request(contract):
        #     navigation_helper.ui_validate()
